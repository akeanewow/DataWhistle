# This yaml file is processed either from the command line or through
# DataWhistle module import.
#
# Command line version:
#
#     python3 whistle.py --data input.csv --rules rules.yaml
#
# API example:
#
#     import pandas, DataWhistle
#     df = pandas.read_csv('data.csv')
#     try:
#         DataWhistle.run_checks(df, 'rules.yaml')
#     except:
#         ...

---

# Checks performed at the dataset level
dataset:
  stop_on_fail: true          # Stop testing on first test fail
  min_rows: 1                 # Ignored if 0 or negative
  allow_duplicate_rows: true

# Column checks
columns:

  - some_column_name:
    type: numeric
    allow_nuls: false
    min: 0
    max: 1000
    mean_min: 100
    mean_max: 1000

  - another_column_name:
    type: string
    allow_nuls: false
    allow_whitespace: false
    allow_duplciates: true
    max_width: 100
    regex: '^xxyy$'
    values:
      - a
      - b
      - c

  - yet_another_column_name:
    type: datetime
    min: '2019-01-01 14:00:00'
    max: '2020-01-01 14:00:00'
